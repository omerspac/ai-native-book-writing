"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[522],{4389:(e,r,s)=>{s.r(r),s.d(r,{default:()=>i});var a=s(6540),o=s(1656),n=s(8774),t=s(4586),c=s(4848);const i=function(){const{siteConfig:e}=(0,t.A)(),[r,s]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[h,u]=(0,a.useState)("");return(0,c.jsxs)(o.A,{title:"Login",description:"Log in to the AI-Native Book Platform",children:[(0,c.jsx)("header",{className:"hero hero--primary",style:{backgroundColor:"var(--ifm-color-primary-darkest)"},children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h1",{className:"hero__title",children:"Log In"}),(0,c.jsx)("p",{className:"hero__subtitle",children:"Access your personalized AI-Native Book experience."})]})}),(0,c.jsx)("main",{children:(0,c.jsx)("section",{className:"container margin-vert--xl",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col col--6 col--offset-3",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card__header",children:(0,c.jsx)("h3",{children:"Access Your Account"})}),(0,c.jsx)("div",{className:"card__body",children:(0,c.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),m(""),u(""),!r||!i)return m("Username and password are required."),void u("error");try{const s=new URLSearchParams;s.append("username",r),s.append("password",i);const a=await fetch(`${window.location.origin}/api/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()}),o=await a.json();a.ok?(localStorage.setItem("access_token",o.access_token),m("Login successful!"),u("success"),window.location.href=`${e.baseUrl}`):(m(o.detail||"Login failed. Please check your credentials."),u("error"))}catch(a){console.error("Error during login:",a),m("An unexpected error occurred. Please try again later."),u("error")}},children:[(0,c.jsxs)("div",{className:"margin-bottom--md",children:[(0,c.jsx)("label",{htmlFor:"username",className:"form__label",children:"Username"}),(0,c.jsx)("input",{type:"text",id:"username",className:"form__input",value:r,onChange:e=>s(e.target.value),required:!0})]}),(0,c.jsxs)("div",{className:"margin-bottom--md",children:[(0,c.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",className:"form__input",value:i,onChange:e=>l(e.target.value),required:!0})]}),d&&(0,c.jsx)("div",{className:`alert alert--${h}`,role:"alert",children:d}),(0,c.jsx)("button",{type:"submit",className:"button button--primary button--block",children:"Log In"})]})}),(0,c.jsx)("div",{className:"card__footer text--center",children:(0,c.jsxs)("p",{children:["Don't have an account? ",(0,c.jsx)(n.A,{to:`${e.baseUrl}signup`,children:"Sign Up"})]})})]})})})})})]})}}}]);