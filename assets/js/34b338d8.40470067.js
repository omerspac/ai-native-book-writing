"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[522],{7951:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var i=a(6540),n=a(1656),t=a(8774),o=a(4586),l=a(4848);const r=function(){const[e,s]=(0,i.useState)(""),[a,n]=(0,i.useState)(""),[t,r]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),{siteConfig:h}=(0,o.A)(),m=h.customFields.backendUrl;return(0,l.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),d(!0),r(null);try{const s=await fetch(`${m}/api/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})});if(!s.ok){const e=await s.json();throw new Error(e.detail||"Login failed")}const i=await s.json();localStorage.setItem("access_token",i.access_token),window.location.href="/"}catch(i){r(i.message)}finally{d(!1)}},className:"login-form",children:[(0,l.jsx)("h2",{children:"Login"}),t&&(0,l.jsx)("div",{className:"alert alert--danger",children:t}),(0,l.jsxs)("div",{className:"margin-bottom--md",children:[(0,l.jsx)("label",{htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",name:"email",className:"input input--lg",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"margin-bottom--md",children:[(0,l.jsx)("label",{htmlFor:"password",children:"Password"}),(0,l.jsx)("input",{type:"password",id:"password",name:"password",className:"input input--lg",value:a,onChange:e=>n(e.target.value),required:!0})]}),(0,l.jsx)("button",{type:"submit",className:"button button--primary button--block",disabled:c,children:c?"Logging in...":"Login"})]})};const c=function(){const{siteConfig:e}=(0,o.A)();return(0,l.jsxs)(n.A,{title:"Login",description:"Log in to the AI-Native Book Platform",children:[(0,l.jsx)("header",{className:"hero hero--primary",style:{backgroundColor:"var(--ifm-color-primary-darkest)"},children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h1",{className:"hero__title",children:"Log In"}),(0,l.jsx)("p",{className:"hero__subtitle",children:"Access your personalized AI-Native Book experience."})]})}),(0,l.jsx)("main",{children:(0,l.jsx)("section",{className:"container margin-vert--xl",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col col--6 col--offset-3",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card__header",children:(0,l.jsx)("h3",{children:"Access Your Account"})}),(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsx)(r,{})," "]}),(0,l.jsx)("div",{className:"card__footer text--center",children:(0,l.jsxs)("p",{children:["Don't have an account? ",(0,l.jsx)(t.A,{to:`${e.baseUrl}signup`,children:"Sign Up"})]})})]})})})})})]})}}}]);