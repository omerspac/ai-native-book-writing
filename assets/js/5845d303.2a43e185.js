"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[1597],{4100:(e,a,r)=>{r.r(a),r.d(a,{default:()=>n});var t=r(6540),s=r(9150),o=r(6347),l=r(4586),i=r(4848);const n=function(){const{siteConfig:e}=(0,l.A)(),[a,r]=(0,t.useState)(!1),[n,c]=(0,t.useState)(!0),[d,m]=(0,t.useState)(""),[h,u]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),[_,b]=(0,t.useState)(""),[w,y]=(0,t.useState)(""),[N,S]=(0,t.useState)(""),[k,A]=(0,t.useState)("");return(0,t.useEffect)(()=>{(async()=>{const e=localStorage.getItem("access_token");if(!e)return r(!1),void c(!1);try{if((await fetch(`${window.location.origin}/api/auth/me`,{headers:{Authorization:`Bearer ${e}`}})).ok){r(!0);const a=await fetch(`${window.location.origin}/api/profile/me`,{headers:{Authorization:`Bearer ${e}`}});if(a.ok){const e=await a.json();x(e.experience_level||""),f(e.learning_goal||""),v(e.software_experience?.languages?.join(", ")||""),b(e.software_experience?.frameworks?.join(", ")||""),y(e.software_experience?.tools?.join(", ")||""),S(e.hardware_experience?.types?.join(", ")||""),A(e.hardware_experience?.details||"")}}else r(!1),localStorage.removeItem("access_token")}catch(a){console.error("Authentication check failed:",a),r(!1),localStorage.removeItem("access_token")}finally{c(!1)}})()},[]),n?(0,i.jsx)(s.A,{title:"Loading...",description:"Loading profile survey",children:(0,i.jsx)("main",{style:{padding:"2rem",textAlign:"center"},children:(0,i.jsx)("h1",{children:"Loading..."})})}):a?(0,i.jsxs)(s.A,{title:"Profile Survey",description:"Help us personalize your experience",children:[(0,i.jsx)("header",{className:"hero hero--primary",style:{backgroundColor:"var(--ifm-color-primary-darkest)"},children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{className:"hero__title",children:"Tell Us About Yourself"}),(0,i.jsx)("p",{className:"hero__subtitle",children:"Help us personalize your AI-Native Book experience."})]})}),(0,i.jsx)("main",{children:(0,i.jsx)("section",{className:"container margin-vert--xl",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col col--8 col--offset-2",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h3",{children:"User Profile Survey"})}),(0,i.jsx)("div",{className:"card__body",children:(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),m(""),u("");const r=localStorage.getItem("access_token");if(!r)return m("You need to be logged in to submit the survey."),void u("error");const t={experience_level:p,learning_goal:g,software_experience:{languages:j.split(",").map(e=>e.trim()).filter(Boolean),frameworks:_.split(",").map(e=>e.trim()).filter(Boolean),tools:w.split(",").map(e=>e.trim()).filter(Boolean)},hardware_experience:{types:N.split(",").map(e=>e.trim()).filter(Boolean),details:k}};try{const a=await fetch(`${window.location.origin}/api/profile/survey`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await a.json();a.ok?(m("Profile updated successfully!"),u("success"),window.location.href=`${e.baseUrl}`):(m(s.detail||"Failed to update profile. Please try again."),u("error"))}catch(s){console.error("Error submitting survey:",s),m("An unexpected error occurred. Please try again later."),u("error")}},children:[(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"experienceLevel",className:"form__label",children:"Experience Level"}),(0,i.jsxs)("select",{id:"experienceLevel",className:"form__input",value:p,onChange:e=>x(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"Select an option"}),(0,i.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,i.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,i.jsx)("option",{value:"Expert",children:"Expert"})]})]}),(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"learningGoal",className:"form__label",children:"Your Primary Learning Goal"}),(0,i.jsx)("input",{type:"text",id:"learningGoal",className:"form__input",value:g,onChange:e=>f(e.target.value),placeholder:"e.g., 'Understand Physical AI concepts', 'Build a humanoid robot'"})]}),(0,i.jsx)("h4",{children:"Software Experience"}),(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"softwareLanguages",className:"form__label",children:"Programming Languages (comma-separated)"}),(0,i.jsx)("input",{type:"text",id:"softwareLanguages",className:"form__input",value:j,onChange:e=>v(e.target.value),placeholder:"e.g., Python, C++, JavaScript"})]}),(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"softwareFrameworks",className:"form__label",children:"Frameworks (comma-separated)"}),(0,i.jsx)("input",{type:"text",id:"softwareFrameworks",className:"form__input",value:_,onChange:e=>b(e.target.value),placeholder:"e.g., FastAPI, PyTorch, React"})]}),(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"softwareTools",className:"form__label",children:"Software Tools (comma-separated)"}),(0,i.jsx)("input",{type:"text",id:"softwareTools",className:"form__input",value:w,onChange:e=>y(e.target.value),placeholder:"e.g., Docker, Git, VS Code"})]}),(0,i.jsx)("h4",{children:"Hardware Experience"}),(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"hardwareTypes",className:"form__label",children:"Hardware Types (comma-separated)"}),(0,i.jsx)("input",{type:"text",id:"hardwareTypes",className:"form__input",value:N,onChange:e=>S(e.target.value),placeholder:"e.g., Robotics kits, GPUs, Raspberry Pi"})]}),(0,i.jsxs)("div",{className:"margin-bottom--md",children:[(0,i.jsx)("label",{htmlFor:"hardwareDetails",className:"form__label",children:"Hardware Details (free text)"}),(0,i.jsx)("textarea",{id:"hardwareDetails",className:"form__input",value:k,onChange:e=>A(e.target.value),rows:3,placeholder:"e.g., 'Experience with ROS, Arduino, NVIDIA Jetson devices.'"})]}),d&&(0,i.jsx)("div",{className:`alert alert--${h}`,role:"alert",children:d}),(0,i.jsxs)("div",{className:"button-group",children:[(0,i.jsx)("button",{type:"submit",className:"button button--primary",children:"Save Profile"}),(0,i.jsx)("button",{type:"button",onClick:()=>{window.location.href=`${e.baseUrl}`},className:"button button--secondary margin-left--sm",children:"Skip for now"})]})]})})]})})})})})]}):(0,i.jsx)(o.rd,{to:`${e.baseUrl}login`})}}}]);